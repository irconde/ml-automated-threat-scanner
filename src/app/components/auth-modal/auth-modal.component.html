<mat-card>
  <mat-tab-group dynamicHeight>
    <mat-tab label="USER LOGIN">
      <form (submit)="handleLogin($event)">
        <div class="form-row">
          <app-input [leadingIcon]="inputInfo.username.leadingIcon" [placeholder]="inputInfo.username.placeholder"
                     [errorMessage]="error"></app-input>
        </div>
        <div class="form-row">
          <app-input [leadingIcon]="inputInfo.password.leadingIcon" [placeholder]="inputInfo.password.placeholder"
                     [inlineIcon]="inputInfo.password.inlineIcon" [altInlineIcon]="inputInfo.password.altInlineIcon"
                     [errorMessage]="error"></app-input>
        </div>
        <div class="form-row">
          <mat-checkbox>Keep me signed in</mat-checkbox>
        </div>
        <ng-container *ngIf="!error; else errorDiv">
          <button mat-button class="form-button" [class.form-error]="error">
            <ng-container class="submit-button-div" *ngIf="isLoading; else loginText">
              <div class="submit-button-div">
                <span>SIGNING IN</span>
                <img ngSrc="assets/loading-spinner.svg" class="loading-spinner" alt="loading spinner" height="20"
                     width="20">
              </div>
            </ng-container>
            <ng-template #loginText>
              LOG IN
            </ng-template>
          </button>
        </ng-container>
        <ng-template #errorDiv>
          <button mat-button class="form-button" [class.form-error]="error">
            <div class="submit-button-div">
              <span>LOGIN FAILED</span>
              <mat-icon class="fail-icon" fontSet="material-icons-outlined">error_outline</mat-icon>
            </div>
          </button>
        </ng-template>
      </form>
    </mat-tab>
    <mat-tab label="NEW ACCOUNT">
      <form (submit)="handleSignup($event)">
        <div class="form-row">
          <app-input [leadingIcon]="inputInfo.username.leadingIcon" [placeholder]="inputInfo.username.placeholder"
                     [errorMessage]="error"></app-input>
        </div>

        <div class="form-row">
          <app-input [leadingIcon]="inputInfo.email.leadingIcon" [placeholder]="inputInfo.email.placeholder"
                     [errorMessage]="error"></app-input>
        </div>

        <div class="form-row">
          <app-input [leadingIcon]="inputInfo.password.leadingIcon" [placeholder]="inputInfo.password.placeholder"
                     [inlineIcon]="inputInfo.password.inlineIcon" [altInlineIcon]="inputInfo.password.altInlineIcon"
                     [errorMessage]="error"></app-input>
        </div>
        <ng-container *ngIf="!error; else errorDiv">
          <button mat-button class="form-button" [class.form-error]="error">
            <ng-container class="submit-button-div" *ngIf="isLoading; else createText">
              <div class="submit-button-div">
                <span>CREATING ACCOUNT</span>
                <img ngSrc="assets/loading-spinner.svg" class="loading-spinner" alt="loading spinner" height="20"
                     width="20">
              </div>
            </ng-container>
            <ng-template #createText>
              CREATE ACCOUNT
            </ng-template>
          </button>
        </ng-container>
        <ng-template #errorDiv>
          <button mat-button class="form-button" [class.form-error]="error">
            <div class="submit-button-div">
              <span>CREATION FAILED</span>
              <mat-icon class="fail-icon" fontSet="material-icons-outlined">error_outline</mat-icon>
            </div>
          </button>
        </ng-template>
      </form>
    </mat-tab>
  </mat-tab-group>
</mat-card>
